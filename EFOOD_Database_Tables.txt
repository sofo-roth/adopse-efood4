create table Shop
(
	ShopId int primary key NOT NULL AUTO_INCREMENT,
	Name varchar(255),
	Address varchar(255) NOT NULL,
	Phone varchar(255),
	Email varchar(255), 
	Elaxisti int ,// ελάχιστη παραγγελία 
	isActive boolean
)

create table userstable
(
	username varchar(50) NOT NULL
	passwd varchar(50),
	fname varchar(50),
	lname varchar(50),
	email varchar(50),
	address varchar(200) NOT NULL,
	phone varchar(15),
	userId int primary key NOT NULL AUTO_INCREMENT
)



create table FoodItem
(
	NameItem varchar(255) primary key NOT NULL AUTO_INCREMENT,
	FOREIGN KEY (CategoryID) REFERENCES FoodItemCategories(CategoryID)
)

create table FoodItemCategories
(
	CategoryID primary key NOT NULL AUTO_INCREMENT,
	FoodType varchar(255) ,  //κατηγορια φαγητου
	FOREIGN KEY (NameItem) REFERENCES FoodItem(NameItem) // η κάθε κατηγορία έχει ένα ή περισσότερα foodItems
)

create table ShopFoodItemCategories
(
	FOREIGN KEY (CategoryID) REFERENCES FoodItemCategories(CategoryID) // οι κατηγοριες φαγητων
	FOREIGN KEY (ShopId) REFERENCES Shop(ShopId) // τα id των καταστηματων
)

create table FoodItemIngredients
(
	IngID int primary key NOT NULL AUTO_INCREMENT,
	Iname varchar(50) ,
	FoodType varchar(255),
	Itype int // 1 για αλμυρο_2 για γλυκο
) 

create table Orders 
(
	orderId int primary key NOT NULL AUTO_INCREMENT,
	FOREIGN KEY (userId) REFERENCES userstable(userId),
	FOREIGN KEY (ShopId) REFERENCES Shop(ShopId),
	Useraddress varchar(200),  // θα συνδυάζεται με τον πίνακα usertable
	Comments varchar(200),
	Datetime varachar(50)	
		
)
create table UserClicks 
(
	FOREIGN KEY (shopid) REFERENCES Shop(shopid),
	FOREIGN KEY (userId) REFERENCES usertable(userId),
	DateTime varachar(200)
)

create table OrderLines
(
	FOREIGN KEY (orderId) REFERENCES Orders(orderId)
	FOREIGN KEY (IngID) REFERENCES FoodItemsIngredients(IngID)
)

create table ShopWorkingHours
(
	Id int primary key NOT NULL AUTO_INCREMENT,
	FOREIGN KEY (Shopid) REFERENCES Shop(Shopid),
	Hour int,
	Date varachar(20)
)


create table ShopPriceIngredient 
(
	FOREIGN KEY (IngID) REFERENCES FoodItemIngredients(IngID),
	FOREIGN KEY (ShopId) REFERENCES Shop(ShopId),
	Price double NOT NULL
	
)


